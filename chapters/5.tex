% !TEX encoding = UTF-8
% !TEX TS-program = pdflatex
% !TEX root = ../arsclassica.tex
% !TEX spellcheck = it-IT

%************************************************
\chapter{Creazione di dataset relativi al traffico}
\label{cap:tsis-sensors}
%************************************************
Al fine di valutare le prestazioni degli algoritmi di apprendimento e classificazione delle \acl{CTBN} è emersa la necessità di generare dei dataset adeguati a tale scopo.

Come già specificato in precedenza, le \acs{CTBN} sono un modello stocastico dedito alla rappresentazione dell'evoluzione di sistemi dinamici, cioè di fenomeni cangianti nel tempo (non necessariamente o esclusivamente in base ad esso) rappresentabili come insiemi di traiettorie multi-variate. Si è quindi scelto di generare dei dataset che rappresentassero un tipico sistema cangiante: il traffico automobilistico su rete stradale.

Tali dataset, costituiti da un insieme di documenti rappresentanti la presenza (durante l'evolvere del tempo) di veicoli sui sensori di una rete stradale, sono stati generati con l'ausilio di un software commerciale, \acf{TSIS} (versione $\geq$ 6.2) e di una sua \acl{RTE} appositamente sviluppata al fine di monitorare e tracciare il passaggio dei veicoli. 

In questo capitolo si presentano sia i succitati strumenti utilizzati per la creazione di reti stradali e relativi modelli di simulazione, sia lo strumento creato per la creazione di dataset relativi al traffico.

Relativamente, invece, al processo pratico di creazione dei dataset si rimanda alla~\autoref{sec:create-dataset-howto}.

\section{TSIS}
\label{sec:tsis}
\acf{TSIS} è un \acl{IDE}\footnote{Un \acl{IDE}, comunemente chiamato anche \ACF{IDE}, è un insieme di programmi finalizzati a supportare il processo di sviluppo dei software. Generalmente, un \acs{IDE} è costituito da uno strumento per la creazione e modifica del codice sorgente, un compilatore o un interprete, strumenti per l'automazione dello sviluppo e la qualità del codice sorgente.}, distribuito commercialmente da McTrans\footnote{McTrans Moving Technology: \url{http://mctrans.ce.ufl.edu}} e supportato dalla \acf{FWHA}\footnote{Agenzia del Dipartimento dei Trasporti degli Stati Uniti d'America: \\ \url{www.fhwa.dot.gov}}, il cui scopo ultimo è permettere la simulazione e l'analisi di modelli di reti stradali.

\acs{TSIS} è costituito da insieme di strumenti dedicati alla creazione di reti stradali e relativi modelli di simulazione, all'esecuzione, e eventualmente alla visualizzazione, di tali modelli, così come all'interpretazione dei risultati ottenuti. Tale insieme di strumenti è reso accessibile tramite delle interfaccie grafiche\footnote{Un'interfaccia grafica, nota anche come \acf{GUI}, ...}.

L'architettura modulare con cui \acs{TSIS} è realizzato permette, in caso di necessità, di estendere tale ambiente creando degli ulteriori strumenti.

Di seguito si introducono brevemente i concetti relativi a \acs{TSIS} utilizzati nel prosieguo di questo lavoro di tesi.

Tuttavia si osservi che, poiché lo scopo di questo capitolo non consiste nel documentare \acs{TSIS}, la trattazione dei suoi dettagli tecnici (\eg{}, significato e lista dei tipi di dati rappresentabili) è omessa. A tale fine si rimanda invece alla documentazione ufficiale del software in questione.

\begin{definizione}[Progetto \acs{TSIS}]\label{defn:tsis-proj}
Un progetto \acs{TSIS} è un insieme di modelli di simulazione per una specifica rete stradale.
\end{definizione}

\begin{definizione}[Modello di simulazione \acs{TSIS}]\label{defn:tsis-sim-model}
Un modello di simulazione è costituito da un input (\eg{}, variazioni dei flussi di ingresso nella rete, variazioni delle percentuali di svolta dei veicoli nelle intersezioni) per la simulazione di una determinata rete stradale e tutti i dati generati dalla sua esecuzione (\ie{}, simulazione).
\end{definizione}
\begin{osservazione}
Un modello di simulazione può anche prevedere che la sua esecuzione sia eseguita più volte. Finché il seme dei numeri casuali non è modificato, esso è sempre considerato un singolo modello di simulazione.
\end{osservazione}

\begin{definizione}[Formato \acs{TRF}]\label{defn:trf-format}
\acs{TRF}\footnote{\acf{TRF}} è il formato dei file accettati dal simulatore di \acs{TSIS}. Esso codifica e rappresenta una rete stradale specificandone i vari componenti tramite l'utilizzo dei rispettivi \acs{RT}\footnote{\acf{RT}}, cioè delle righe di testo contenenti un codice identificativo numerico e i valori per i rispettivi campi accettati nell'ordine prestabilito. Allo stesso modo, tale formato incorpora il modello di simulazione della rete stradale che descrive.
\end{definizione}
\begin{osservazione}
Il formato \acs{TRF} è equivalente al formato \acs{TRAF}\footnote{\acf{TRAF}}.
\end{osservazione}

\subsection{Caratteristiche}
% TODO: panoramica features

\subsection{Componenti}

In questa sezione si elencano gli strumenti che costituiscono l'ambiente di sviluppo \acs{TSIS}.

\begin{description}
\item[CORSIM] \hfill \\
\acs{CORSIM}\footnote{\acf{CORSIM}} costituisce il componente principale dell'insieme di strumenti denominato \acs{TSIS}. È un simulatore il cui obiettivo è permettere la creazione e l'esecuzione di modelli di simulazione \acs{TSIS}. È composto da due simulatori integrati che rappresentano l'intero sistema di traffico come funzione del tempo: \acs{NETSIM}\footnote{\acf{NETSIM}} e \acs{FREESIM}\footnote{\acf{FREESIM}}. Tali simulatori integrati rappresentano, rispettivamente, il traffico sulle strade urbane e non. La simulazione effettuata da tali strumenti è di tipo microscopico: essi modellano individualmente il comportamento di ogni singolo veicolo, prendendo in considerazione per ognuno di essi una serie di variabili, anche di tipo stocastico (\eg{}, tipologia di guidatore). Per tale motivo \acs{CORSIM} è dotato di molte possibili opzioni di configurazione e permette lo studio di modelli molto complessi e dettagliati.
\item[TRAFED] \hfill \\
\acs{TRAFED}\footnote{\acf{TRAFED}} è una \acs{GUI} il cui scopo è permettere la creazione e la modifica di reti stradali e di modelli di simulazione per \acs{CORSIM}.
\item[TShell] \hfill \\
\acs{TShell}\footnote{\acf{TShell}} è la \acs{GUI} di \acs{TSIS}. Funge da contenitore degli strumenti (preconfigurati, o creati dall'utente) di questo ambiente di sviluppo integrato e permette la gestione dei progetti \acs{TSIS}.
\item[TRAFVU] \hfill \\
\acs{TRAFVU}\footnote{\acf{TRAFVU}} è una \acs{GUI} finalizzata alla visualizzazione dei modelli di simulazione simulati con \acs{CORSIM}. Essa permette sia di visualizzare in modo animato l'evoluzione del traffico nella rete stradale con una qualsiasi granularità temporale, sia di visualizzare una serie di misure di interesse relative alla simulazione.
\item[TSIS Text Editor] \hfill \\
\acs{TSIS} Text Editor è uno strumento il cui scopo è facilitare la modifica manuale dei file \acs{TRF}. A tale scopo esso visualizza per ogni \acs{RT} che si intende modificare sia la sua descrizione sia l'insieme dei campi supportati.
\item[TSIS Script Tool] \hfill \\
\acs{TSIS} Script Tool
\item[TSIS Translator] \hfill \\
\acs{TSIS} Translator
\item[TSIS Output Processor] \hfill \\
\acs{TSIS} Output Processor
\item[CORSIM RTE] \hfill \\

\end{description}

%\item[TSIS Next] \hfill \\

\subsubsection{TSIS Next}

TSIS Next contains the same type of functionality that can be seen in the TShell, TRAFED, and TRAFVU
component programs. TSIS Next is a “quicker-and-easier” version of TSIS that contains specific advantages and
disadvantages. Many CORSIM projects will continue to require TShell, TRAFED, and TRAFVU. By having
access to both TSIS and TSIS Next on the same computer, you can choose whichever functionality you prefer.

\subsubsection{TSIS Script Tool}

The TSIS Script Tool is a combined script editor and tool for executing Visual Basic Scripts. Using the built-in
TSIS interfaces, the Script Tool is a powerful mechanism for extending the functionality of the other TSIS
components. We have also included two scripts with this release. One is a multi-run script that repeatedly runs
CORSIM on a test case, applying different random number seeds to each run. The other script runs CORSIM on
many different test cases. See the Script Tool User's Guide for additional details.

\subsubsection{TSIS Translator}

The TSIS Translator converts TRF files for use by TRAFED. This translator also performs the reverse operation of
translating the TRAFED native format (TNO) files into TRF files for use by CORSIM and other tools. See the
Translator User's Guide for additional details.

\subsubsection{TSIS Output Processor}

The TSIS Output Processor enables the user to automatically compute selected statistics and summary data during
multiple runs of CORSIM. The collected data is written to an Excel workbook, a comma-separated file, an XMLtagged
file, or a tab-separated text file. The Output Processor can also compute 95th percentile confidence intervals,
and can recommend sample sizes (i.e., the number of simulation runs that should be performed with varying random
number seeds) for achieving desired accuracy. The Output Processor has been redesigned for TSIS 6 to efficiently
summarize any model result generated by CORSIM. Cumulative MOEs may be obtained from the start of
simulation, or just for the current time interval, or just for the current time period, or any combination of those three.

\subsubsection{CORSIM Runtime Extension}

Although it comes pre-configured with a set of tools, TSIS provides a mechanism by which an external application
can interface directly with CORSIM simulation. This type of application has become known as a CORSIM run-time
extension (RTE). Run-time extensions can be built to replace existing logic in CORSIM, or to supplement the
logic. The original run-time extensions were tailored for signal timing studies. However, the concept has been
expanded to support freeway monitoring, incident detection and ramp metering run-time extension packages.

\subsection{Estendere TSIS}
% panoramica sviluppo RTE
% TODO: descrizione delle varie API fornite da TSIS

\subsubsection{CORWIN}

\subsubsection{CORSIM API}

\section{Estensione}
% TODO: introduzione, problema che deve risolvere

\subsection{Analisi}
% TODO: analisi del problema e del software che si è realizzato

\subsection{Sensors DLL}
% TODO: presentazione della DLL, progetto del software?

\section{Applicativi di supporto}
% TODO: discussione sulle operazioni utili alla creazione di dataset: insieme di file, ognuno dei quali è un insieme di traiettorie multivariate
